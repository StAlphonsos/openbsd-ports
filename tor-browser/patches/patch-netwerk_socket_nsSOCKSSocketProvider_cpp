$OpenBSD$

diff -Nup mozilla-esr31/netwerk/socket/nsSOCKSSocketProvider.cpp tor-browser/netwerk/socket/nsSOCKSSocketProvider.cpp
--- netwerk/socket/nsSOCKSSocketProvider.cpp.orig	Mon Jan  5 23:07:57 2015
+++ netwerk/socket/nsSOCKSSocketProvider.cpp	Tue Feb 17 14:37:56 2015
@@ -44,8 +44,7 @@ NS_IMETHODIMP
 nsSOCKSSocketProvider::NewSocket(int32_t family,
                                  const char *host, 
                                  int32_t port,
-                                 const char *proxyHost,
-                                 int32_t proxyPort,
+                                 nsIProxyInfo *proxy,
                                  uint32_t flags,
                                  PRFileDesc **result,
                                  nsISupports **socksInfo)
@@ -59,8 +58,7 @@ nsSOCKSSocketProvider::NewSocket(int32_t family,
     nsresult rv = nsSOCKSIOLayerAddToSocket(family,
                                             host, 
                                             port,
-                                            proxyHost,
-                                            proxyPort,
+                                            proxy,
                                             mVersion,
                                             flags,
                                             sock, 
@@ -77,8 +75,7 @@ NS_IMETHODIMP
 nsSOCKSSocketProvider::AddToSocket(int32_t family,
                                    const char *host,
                                    int32_t port,
-                                   const char *proxyHost,
-                                   int32_t proxyPort,
+                                   nsIProxyInfo *proxy,
                                    uint32_t flags,
                                    PRFileDesc *sock,
                                    nsISupports **socksInfo)
@@ -86,8 +83,7 @@ nsSOCKSSocketProvider::AddToSocket(int32_t family,
     nsresult rv = nsSOCKSIOLayerAddToSocket(family,
                                             host, 
                                             port,
-                                            proxyHost,
-                                            proxyPort,
+                                            proxy,
                                             mVersion,
                                             flags,
                                             sock, 
