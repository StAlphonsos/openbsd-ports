$OpenBSD$

diff -Nup mozilla-esr31/embedding/components/windowwatcher/src/nsWindowWatcher.cpp tor-browser/embedding/components/windowwatcher/src/nsWindowWatcher.cpp
--- embedding/components/windowwatcher/src/nsWindowWatcher.cpp.orig	Mon Jan  5 23:08:07 2015
+++ embedding/components/windowwatcher/src/nsWindowWatcher.cpp	Tue Feb 17 14:37:55 2015
@@ -933,7 +933,8 @@ nsWindowWatcher::OpenWindowInternal(nsIDOMWindow *aPar
 
     if (parentStorageManager && newStorageManager) {
       nsCOMPtr<nsIDOMStorage> storage;
-      parentStorageManager->GetStorage(subjectPrincipal, isPrivateBrowsingWindow, getter_AddRefs(storage));
+      parentStorageManager->GetStorageForFirstParty(uriToLoad, subjectPrincipal,
+                             isPrivateBrowsingWindow, getter_AddRefs(storage));
       if (storage)
         newStorageManager->CloneStorage(storage);
     }
